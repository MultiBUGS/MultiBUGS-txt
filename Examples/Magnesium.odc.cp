	Sensitivity to prior distributions:
								application to Magnesium 
								meta-analysis


	model 
	{
	#	j indexes alternative prior distributions
		for (j in 1:6) {
			mu[j] ~ dunif(-10, 10)
			OR[j] <- exp(mu[j])
		
	#	k indexes study number
			for (k in 1:8) {
				theta[j, k] ~ dnorm(mu[j], inv.tau.sqrd[j])
				rtx[j, k] ~ dbin(pt[j, k], nt[k])
				rtx[j, k] <- rt[k]
				rcx[j, k] ~ dbin(pc[j, k], nc[k])
				rcx[j, k] <- rc[k]
				logit(pt[j, k]) <- theta[j, k] + phi[j, k]
				phi[j, k] <- logit(pc[j, k])
				pc[j, k] ~ dunif(0, 1)
			}
		}
		
	#	k  again indexes study number
		for (k in 1:8) {
			# log-odds ratios:
			y[k] <- log(((rt[k] + 0.5) / (nt[k] - rt[k] + 0.5)) / ((rc[k] + 0.5) / (nc[k] - rc[k] + 0.5)))
	# 	variances & precisions:
			sigma.sqrd[k] <- 1 / (rt[k] + 0.5) + 1 / (nt[k] - rt[k] + 0.5) + 1 / (rc[k] + 0.5) + 
						1 / (nc[k] - rc[k] + 0.5)
			prec.sqrd[k] <- 1 / sigma.sqrd[k]
		}
		s0.sqrd <- 1 / mean(prec.sqrd[1:8])

	# Prior 1: Gamma(0.001, 0.001) on inv.tau.sqrd

		inv.tau.sqrd[1] ~ dgamma(0.001, 0.001)
		tau.sqrd[1] <- 1 / inv.tau.sqrd[1]
		tau[1] <- sqrt(tau.sqrd[1])

	# Prior 2: Uniform(0, 50) on tau.sqrd

		tau.sqrd[2] ~ dunif(0, 50)
		tau[2] <- sqrt(tau.sqrd[2])
		inv.tau.sqrd[2] <- 1 / tau.sqrd[2]

	# Prior 3: Uniform(0, 50) on tau

		tau[3] ~ dunif(0, 50)
		tau.sqrd[3] <- tau[3] * tau[3]
		inv.tau.sqrd[3] <- 1 / tau.sqrd[3]

	# Prior 4: Uniform shrinkage on tau.sqrd

		B0 ~ dunif(0, 1)
		tau.sqrd[4] <- s0.sqrd * (1 - B0) / B0
		tau[4] <- sqrt(tau.sqrd[4])
		inv.tau.sqrd[4] <- 1 / tau.sqrd[4]

	# Prior 5: Dumouchel on tau
		
		D0 ~ dunif(0, 1)
		tau[5] <- sqrt(s0.sqrd) * (1 - D0) / D0
		tau.sqrd[5] <- tau[5] * tau[5]
		inv.tau.sqrd[5] <- 1 / tau.sqrd[5]

	# Prior 6: Half-Normal on tau.sqrd

		p0 <- phi(0.75) / s0.sqrd
		tau.sqrd[6] ~ dnorm(0, p0)T(0, )
		tau[6] <- sqrt(tau.sqrd[6])
		inv.tau.sqrd[6] <- 1 / tau.sqrd[6]

	}



Data	( click to open )

InitsÂ forÂ chainÂ 1    	InitsÂ forÂ chainÂ 2	 ( click to open )


Results 


		mean	median	sd	MC_error	val2.5pc	val97.5pc	start	sample	ESS
	OR[1]	0.4708	0.4649	0.1757	0.003434	0.1903	0.7835	1001	20000	2616
	OR[2]	0.4227	0.3821	0.2974	0.002786	0.1072	0.9578	1001	20000	11392
	OR[3]	0.4384	0.4164	0.2292	0.002634	0.1485	0.8569	1001	20000	7568
	OR[4]	0.473	0.4667	0.1422	0.00273	0.2217	0.7667	1001	20000	2712
	OR[5]	0.4783	0.4767	0.1497	0.003582	0.2085	0.7619	1001	20000	1746
	OR[6]	0.4499	0.4348	0.1417	0.002328	0.2171	0.765	1001	20000	3706
	tau[1]	0.5462	0.4756	0.3875	0.01031	0.05299	1.484	1001	20000	1412
	tau[2]	1.13	0.9793	0.6669	0.01409	0.3134	2.855	1001	20000	2240
	tau[3]	0.8224	0.7269	0.5202	0.01194	0.1265	2.118	1001	20000	1899
	tau[4]	0.4752	0.4301	0.2647	0.00621	0.09306	1.106	1001	20000	1816
	tau[5]	0.489	0.4343	0.3436	0.01056	0.0217	1.311	1001	20000	1058
	tau[6]	0.5568	0.5536	0.1872	0.003633	0.1953	0.923	1001	20000	2653


		mean	median	sd	MC_error	val2.5pc	val97.5pc	start	sample	ESS
	D0	0.4808	0.4447	0.1852	8.622E-4	0.2095	0.9293	1001	2000000	46154
	OR[1]	0.4749	0.4714	0.1645	3.992E-4	0.1911	0.7849	1001	2000000	169728
	OR[2]	0.4266	0.3827	0.652	5.27E-4	0.1095	0.9681	1001	2000000	1530356
	OR[3]	0.4433	0.4172	5.933	0.004733	0.1463	0.8416	1001	2000000	1571031
	OR[4]	0.4711	0.4639	0.1424	2.952E-4	0.2191	0.7666	1001	2000000	232631
	OR[5]	0.4773	0.4736	0.1565	4.18E-4	0.2028	0.7753	1001	2000000	140209
	OR[6]	0.4482	0.4339	0.1421	2.267E-4	0.2154	0.7654	1001	2000000	392751
	tau[1]	0.5378	0.4671	0.3914	0.001227	0.04465	1.494	1001	2000000	101721
	tau[2]	1.122	0.981	0.6526	0.001352	0.3076	2.784	1001	2000000	233011
	tau[3]	0.8154	0.7214	0.5021	0.001217	0.1294	2.05	1001	2000000	170134
	tau[4]	0.4857	0.4385	0.269	6.446E-4	0.1058	1.14	1001	2000000	174183
	tau[5]	0.5035	0.4454	0.3494	0.001182	0.02713	1.346	1001	2000000	87351
	tau[6]	0.5596	0.558	0.1882	3.572E-4	0.1983	0.929	1001	2000000	277650
	theta[5,3]	-0.9597	-0.8742	0.5214	0.001312	-2.179	-0.172	1001	2000000	157975


		mean	median	sd	MC_error	val2.5pc	val97.5pc	start	sample	ESS
	D0	0.4808	0.4447	0.1852	8.622E-4	0.2095	0.9293	1001	2000000	46154
	OR[1]	0.4749	0.4714	0.1645	3.992E-4	0.1911	0.7849	1001	2000000	169728
	OR[2]	0.4266	0.3827	0.652	5.27E-4	0.1095	0.9681	1001	2000000	1530356
	OR[3]	0.4433	0.4172	5.933	0.004733	0.1463	0.8416	1001	2000000	1571031
	OR[4]	0.4711	0.4639	0.1424	2.952E-4	0.2191	0.7666	1001	2000000	232631
	OR[5]	0.4773	0.4736	0.1565	4.18E-4	0.2028	0.7753	1001	2000000	140209
	OR[6]	0.4482	0.4339	0.1421	2.267E-4	0.2154	0.7654	1001	2000000	392751
	tau[1]	0.5378	0.4671	0.3914	0.001227	0.04465	1.494	1001	2000000	101721
	tau[2]	1.122	0.981	0.6526	0.001352	0.3076	2.784	1001	2000000	233011
	tau[3]	0.8154	0.7214	0.5021	0.001217	0.1294	2.05	1001	2000000	170134
	tau[4]	0.4857	0.4385	0.269	6.446E-4	0.1058	1.14	1001	2000000	174183
	tau[5]	0.5035	0.4454	0.3494	0.001182	0.02713	1.346	1001	2000000	87351
	tau[6]	0.5596	0.558	0.1882	3.572E-4	0.1983	0.929	1001	2000000	277650
	theta[5,3]	-0.9597	-0.8742	0.5214	0.001312	-2.179	-0.172	1001	2000000	157975


		mean	median	sd	MC_error	val2.5pc	val97.5pc	start	sample	ESS
	D0	0.4826	0.445	0.1878	9.37E-4	0.2091	0.9355	1001	2000000	40172
	OR[1]	0.4742	0.4706	0.1627	4.07E-4	0.1908	0.7843	1001	2000000	159827
	OR[2]	0.4317	0.3833	6.636	0.004689	0.1096	0.9687	1001	2000000	2003200
	OR[3]	0.4384	0.4171	0.3472	3.783E-4	0.146	0.8421	1001	2000000	842093
	OR[4]	0.4712	0.4639	0.1483	2.866E-4	0.2189	0.7674	1001	2000000	267608
	OR[5]	0.4777	0.4741	0.1552	4.355E-4	0.2029	0.7776	1001	2000000	126970
	OR[6]	0.4486	0.4344	0.1421	2.329E-4	0.2153	0.7659	1001	2000000	372387
	tau[1]	0.5395	0.4686	0.3917	0.001247	0.04501	1.496	1001	2000000	98627
	tau[2]	1.121	0.9789	0.6534	0.001354	0.3062	2.79	1001	2000000	232835
	tau[3]	0.8171	0.7236	0.5026	0.001246	0.1298	2.047	1001	2000000	162775
	tau[4]	0.4867	0.4391	0.2701	6.346E-4	0.1054	1.143	1001	2000000	181202
	tau[5]	0.5024	0.4448	0.3511	0.001261	0.02458	1.349	1001	2000000	77483
	tau[6]	0.559	0.5577	0.1883	3.629E-4	0.1968	0.9287	1001	2000000	269202
	theta[5,3]	-0.9589	-0.8728	0.522	0.001373	-2.181	-0.1723	1001	2000000	144594


		mean	median	sd	MC_error	val2.5pc	val97.5pc	start	sample	ESS
	D0	0.4813	0.4446	0.1861	9.021E-4	0.2096	0.9317	1001	2000000	42576
	OR[1]	0.4755	0.4719	0.1656	3.989E-4	0.1912	0.7849	1001	2000000	172336
	OR[2]	0.4292	0.3831	2.67	0.001933	0.1092	0.9722	1001	2000000	1907221
	OR[3]	0.4412	0.417	3.641	0.002722	0.146	0.8399	1001	2000000	1788807
	OR[4]	0.4705	0.4633	0.1423	2.785E-4	0.2191	0.7656	1001	2000000	260993
	OR[5]	0.4774	0.4737	0.1543	4.407E-4	0.2026	0.7786	1001	2000000	122623
	OR[6]	0.4481	0.434	0.1419	2.288E-4	0.2151	0.7649	1001	2000000	384566
	tau[1]	0.5364	0.465	0.3919	0.001215	0.0447	1.492	1001	2000000	104135
	tau[2]	1.123	0.981	0.6548	0.00138	0.3074	2.796	1001	2000000	225022
	tau[3]	0.8161	0.7226	0.5027	0.001244	0.1307	2.047	1001	2000000	163377
	tau[4]	0.4864	0.4395	0.2687	6.2E-4	0.1063	1.139	1001	2000000	187871
	tau[5]	0.5032	0.4456	0.3492	0.001244	0.02613	1.345	1001	2000000	78812
	tau[6]	0.5595	0.5579	0.1881	3.707E-4	0.1991	0.9292	1001	2000000	257509
	theta[5,3]	-0.9589	-0.8736	0.5219	0.001377	-2.181	-0.1701	1001	2000000	143583

